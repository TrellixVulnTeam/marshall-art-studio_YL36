<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="API Guides|Product Definition|XARC Rules|Example XARC Rules">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Rules that Use SQL Tables Data</title>
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/NewStylesheet.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/left-arrow.png') no-repeat center center;
}

.button.current-topic-index-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.next-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/right-arrow.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE.htc');
}

</style>
        <script src="../../../Resources/prettify/run_prettify.js">
        </script>
        <script src="../../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../../Default.htm#Content/API Guide/Product Definitions/XARC Rules/Rules that Use SQL Tables Data.htm">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../../API Guide.htm">API Guides</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Product Definitions.htm">Product Definition</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="XARC Rules.htm">XARC Rules</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Rules that Use SQL Tables Data</span>
        </div>
        <h1>Rules that Use SQL Tables Data</h1>
        <p><b>Rule</b>:</p>
        <p>Validate the vehicle model against the yearmakemodel database. Display an error message if the validation fails.</p>
        <p><b>Fields</b>:</p>
        <p>Make: <code>PersAutoLineBusiness.PersVeh.ModelYear</code></p>
        <p>Model: <code>PersAutoLineBusiness.PersVeh.Manufacturer</code></p>
        <p>Model Year: <code>PersAutoLineBusiness.PersVeh.ModelYear</code></p>
        <p><b>Approach</b>:</p>
        <p>You can use the operand type of SQL&#160;query to enter any valid SQL query to execute against the data source specified by the Data Source field (which is optional). If this field is left blank or is equal to AgencyPortal (case insensitive), the query is executed against the portal database. If the data source is something else, you must configure a data source in the application properties and corresponding JNDI settings on the server (e.g., if the value for the data source entered on the SQL&#160;operand is "DEVAPP02," then have the properties in application properties as the following:</p>
        <p><code>DEVAPP02.datasource= java:comp/env/AgencyPortal_Demo_db_dev-db02</code>
        </p>
        <p>Parameters in the SQL where clause:&#160;Variables can be used to build the SQL&#160;query similar to how they are used in messages.</p>
        <p><code>SELECT model FROM yearmakemodel WHERE ${db_table_prefix}year = '${year}' AND make = '${make}'</code>
        </p>
        <p>XARC&#160;currently supports only one column to return as part of the SQL&#160;query. If the SQL&#160;query is "<code>SELECT column1, column2 from table</code>," only column1 is honored and all other columns are ignored. If more than one row is returned by the query, the values are concatenated with ',' as the separator and the returned value can be used in the conditions by using an 'IN' operator as shown below.</p>
        <p>
            <img src="../../../../Resources/Images/SQLtest_672x258.png" style="width: 672;height: 258;" class="border" />
        </p>
        <div class="buttons inline-buttons clearfix topicToolbarProxy" style="mc-topic-toolbar-items: ;">
            <div class="button-group-container-left">
                <button class="button needs-pie previous-topic-button" type="button" title="Navigate previous">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                </button>
                <div class="button current-topic-index-button disabled"><span class="sequence-index"></span> of <span class="sequence-total"></span></div>
                <button class="button needs-pie next-topic-button" type="button" title="Navigate next">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                </button>
            </div>
        </div>
    </body>
</html>