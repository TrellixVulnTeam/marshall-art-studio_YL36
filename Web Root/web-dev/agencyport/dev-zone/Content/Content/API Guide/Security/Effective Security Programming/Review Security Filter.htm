<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="API Guides|Security|Effective Security Programming|ASCI Step-by-Step Guide|Implementing the Security Filter|Secure Resources">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Reviewing How Security Filter Works</title>
        <link href="../../../../Resources/TableStyles/Note Table.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/NewStylesheet.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/left-arrow.png') no-repeat center center;
}

.button.current-topic-index-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.next-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/right-arrow.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE.htc');
}

</style>
        <script src="../../../Resources/prettify/run_prettify.js">
        </script>
        <script src="../../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../../Default.htm#Content/API Guide/Security/Effective Security Programming/Review Security Filter.htm">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../../API Guide.htm">API Guides</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Security.htm">Security</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Effective Security Programming.htm">Effective Security Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Reviewing How Security Filter Works</span>
        </div>
        <h1>Reviewing How Security Filter Works</h1>
        <p>Before the core security can make any assertions on the legitimacy of an incoming request (with respect to the user that initiated said request), it must bring the security profile into scope. The method that it calls to achieve this is the <b style="font-style: italic;">ISecurityProfileManager.acquire</b>(<code>HttpServletRequest request, HttpServletResponse response</code>) method. After the security profile is acquired, the security filter engages each registered security resource implementation as follows:</p>
        <table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/Note Table.css');" class="TableStyle-Note_Table" cellspacing="0">
            <col class="TableStyle-Note_Table-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Note_Table-Body-Body1">
                    <td class="TableStyle-Note_Table-BodyA-Column1-Body1">
                        <p class="noteheader">NOTE:</p>
                        <p class="note">It is important to note that there is redundancy between the roles and permissions paths in the above interaction processing model. If your application embraces explicit fine-grained permissions, which hopefully it does, you can ignore anything to do with role identity based assertions.</p>
                    </td>
                </tr>
            </tbody>
        </table><pre class="prettyprint"><p><span style="font-family: Arial; font-size: 10pt;">Iterate through all of the secure resources, keeping track of the ones that recognize the current HTTP request
Iterate through all of the secure resources that "said" they recognize the current HTTP request {
	Ask the secure resource for the set of roles that the current user must possess at least one of to execute this request via the <b style="font-style: italic;">Set&amp;lt;IRole&amp;gt;ISecureResource.getValidRolesNeededForExecutingRequest()</b> method.
	If the secure resource returns a non empty set of roles
				Check that the current user posses at least one of the roles by invoking the method
<i style="font-weight: bold;">ISecureProfile.checkIsInOneOfRoles(Set&amp;lt;IRole&amp;gt;)</i>. This will thrown an exception if the user does not participate in one of the roles.
	Endif
	Ask the secure resource for the set of permissions that the current user must possess all in order to execute this request via the <b style="font-style: italic;">Set&amp;lt;IPermission&amp;gt; ISecureResource.getPermissionsNeededForExecutingRequest()</b> method.
	If the secure resource returns a non empty set of permissions
				Check that the current user possess all of the permissions by invoking the method <b style="font-style: italic;">ISecureProfile.checkPermissions(Set&amp;lt;IPermission&amp;gt;)</b>. This will throw an exception if the user does not have all of the permission.
	Endif
	Ask the secure resource for the data item id (in a portal application work item id), which the current user must have the authorization to access via the <i style="font-weight: bold;">ISecureResource.getDataItemIdAssociatedWithRequest()</i> method. Note that the iteration through the secure resources will stop at the first secure resource that returns the first non null id value.
	If the secure resource returns a non null Id
				Check that the current user possess rights to access this data item by invoking the method <i style="font-weight: bold;">ISecureProfile.checkDataAcess(Id)</i>. This will throw an exception if the user does not have rights to access such data item.
	Endif
}</span></p></pre>
        <div class="buttons inline-buttons clearfix topicToolbarProxy" style="mc-topic-toolbar-items: ;">
            <div class="button-group-container-left">
                <button class="button needs-pie previous-topic-button" type="button" title="Navigate previous">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                </button>
                <div class="button current-topic-index-button disabled"><span class="sequence-index"></span> of <span class="sequence-total"></span></div>
                <button class="button needs-pie next-topic-button" type="button" title="Navigate next">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                </button>
            </div>
        </div>
    </body>
</html>