<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="API Guides|Security">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Implementing Single Sign On</title>
        <link href="../../../Resources/TableStyles/Example Table.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Best Practice Table.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/NewStylesheet.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/left-arrow.png') no-repeat center center;
}

.button.current-topic-index-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.next-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/right-arrow.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE.htc');
}

</style>
        <script src="../../Resources/prettify/run_prettify.js">
        </script>
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../Default.htm#Content/API Guide/Security/Implementing Single Sign On.htm">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../API Guide.htm">API Guides</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Security.htm">Security</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Implementing Single Sign On</span>
        </div>
        <h1>Implementing Single Sign On</h1>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Best Practice Table.css');" class="TableStyle-Best_Practice_Table" cellspacing="0">
            <col class="TableStyle-Best_Practice_Table-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Best_Practice_Table-Body-Body1">
                    <td class="TableStyle-Best_Practice_Table-BodyA-Column1-Body1">
                        <p class="bestpracticeheader">BEST&#160;PRACTICE</p>
                        <p class="bestpractice">To easily accommodate SSO from Connect5, an ACSI portal application needs to package their ACSI implementation as a jar file for use by Connect5.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Best Practice Table.css');" class="TableStyle-Best_Practice_Table" cellspacing="0">
            <col class="TableStyle-Best_Practice_Table-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Best_Practice_Table-Body-Body1">
                    <td class="TableStyle-Best_Practice_Table-BodyA-Column1-Body1">
                        <p class="bestpracticeheader">BEST&#160;PRACTICE:</p>
                        <p class="bestpractice">Store ACSI specific properties in their own application properties file rather than in the main (framework) properties file. This will make the process of ACSI&#160;integration with Connect5 easier.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Any JNDI settings or application properties specific to that implementation also need to be initialized by that Connect5 instance. Application properties can be made part of the jar file as well and loaded as a resource by the Connect5 process. Connect5 comes with a default ACSI compliant authentication plug-in implementation, which should serve most ACSI compliant applications, minimizing the need for a custom authenticator. The following is a sample of that implementation:</p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Example Table.css');" class="TableStyle-Example_Table" cellspacing="0">
            <col class="TableStyle-Example_Table-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Example_Table-Body-Body1">
                    <td class="TableStyle-Example_Table-BodyA-Column1-Body1">
                        <p class="exampleheader">EXAMPLE:</p>
                        <p class="example"><pre class="prettyprint"><p>/*
 * Created on Jul 8, 2008 by norm AgencyPort Insurance Services, Inc.
 *
 * ACSIBasedAuthenticator.java
 */
package com.agencyport.connect.security;
     
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
     
import com.agencyport.security.model.ISubject;
     
/**
 * The ACSIBasedAuthenticator class supports the authentication of a request for applications whose
 * security infrastructure is ACSI compliant.
 */
public class ACSIBasedAuthenticator extends BaseAuthenticator {
     
	/**
	 * Constructs an instance.
	 */
	public ACSIBasedAuthenticator() {
    }
     
    /* (non-Javadoc)
     * @see com.agencyport.connect.security.BaseAuthenticator#authenticate(com.agencyport.connect.security.UserCredentials, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)
     */
    public void authenticate(UserCredentials userCredentials,
			HttpServletRequest request, HttpServletResponse response)
			throws AuthenticationException {
     
		try {
			if ( !userCredentials.isEmpty() ) {
			// Authenticate this user against ACSI based security.
			ISubject authenticatedSubject = userCredentials.authenticate(request, response);
			// Get copy of cookies
			Cookie[] cookies = authenticatedSubject.getCookies();
			if ( cookies != null ){
				// Propagate any cookies for any outgoing HTTP tunnel requests to satisfy
				// target security filter.
				customheaders = new CustomHeaders();
				for ( int ix = 0; ix &amp;lt; cookies.length; ix++ ){
					customheaders.addCookie(cookies[ix].getName(), cookies[ix].getValue());
				}
			}
		}
    }
		catch ( com.agencyport.security.exception.SecurityException securityException ){
		throw new AuthenticationException(AuthenticationException.AUTHENTICATION_FAILED_MSG_ID,
				securityException.getMessage());
		}
     
	}
}</p></pre>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="buttons inline-buttons clearfix topicToolbarProxy" style="mc-topic-toolbar-items: ;">
            <div class="button-group-container-left">
                <button class="button needs-pie previous-topic-button" type="button" title="Navigate previous">
                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                </button>
                <div class="button current-topic-index-button disabled"><span class="sequence-index"></span> of <span class="sequence-total"></span></div>
                <button class="button needs-pie next-topic-button" type="button" title="Navigate next">
                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                </button>
            </div>
        </div>
    </body>
</html>