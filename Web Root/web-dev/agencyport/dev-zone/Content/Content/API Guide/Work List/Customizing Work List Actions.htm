<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Customizing Work List Actions</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/NewStylesheet.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/left-arrow.png') no-repeat center center;
}

.button.current-topic-index-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.next-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/right-arrow.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE.htc');
}

</style>
        <script src="../../Resources/prettify/run_prettify.js">
        </script>
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../Default.htm#Content/API Guide/Work List/Customizing Work List Actions.htm">Open topic with navigation</a>
        </p>
        <h1>Customizing Work List Actions</h1>
        <p>Situations may arise when the work list open, copy, delete or assign actions that come standard with AgencyPortal need enhanced or extended to meet application custom requirements. This section provides the necessary details to achieve customization of the copy action. However, the same basic technique can be applied to any of the actions.</p>
        <ol>
            <li value="1">Create an extension of the copy action handler implementation.
				<br />Extend the com.agencyport.workitem.command.CommandCopyImpl base class. The derived class must have the same class name, but in a different package since the create instance technique is adopted by the action command processor. The algorithm for creating action handlers first looks for action handler classes in a custom package specified under a work_item.command_impl_package application property name. If this application property is missing altogether or no handler exists in that package, the default action handler found in the com.agencyport.workitem.command package is used. The technique for assembling the Java class name is as follows:
				<br />"Command" + &lt;Action Title from the work_item_action_permission table&gt; + "Impl"
				<br /><pre class="prettyprint"><p>/*
 * Created on Jun 17, 2009 by nbaker AgencyPort Insurance Services, Inc.
 */
package &lt;strong&gt;com.agencyport.workitem.customactions&lt;/strong&gt;;
     
import java.sql.Connection;
     
import com.agencyport.domXML.APDataCollection;
import com.agencyport.domXML.web.APDOMDBManager;
import com.agencyport.shared.APException;
import com.agencyport.workitem.model.IWorkItem;
     
/**
 * The CommandCopyImpl class illustrates extending AgencyPortal's work list default copy action implementation. There are many points
 * of extension to consider and the one or ones you take the opportunity to override depends on exactly what needs to be done. In most cases, delegating to the
 * super's implementation is in order.
 */
public class CommandCopyImpl extends com.agencyport.workitem.command.CommandCopyImpl {
	/* (non-Javadoc)
	 * @see com.agencyport.workitem.command.CommandCopyImpl#readACORDDataCollection(com.agencyport.domXML.web.APDOMDBManager)
	 */
    @Override
    protected APDataCollection readACORDDataCollection(APDOMDBManager domManager) throws APException{
		APDataCollection apData = super.readACORDDataCollection(domManager);
		// Do something custom after the ACORD XML for the work item being copied has been read.
		return apData;
    }
    /* (non-Javadoc)
     * @see com.agencyport.workitem.command.CommandCopyImpl#persistACORDDataCollection(java.sql.Connection, com.agencyport.domXML.APDataCollection, com.agencyport.workitem.model.IWorkItem, com.agencyport.domXML.web.APDOMDBManager)
     */
    @Override
    protected void persistACORDDataCollection(Connection connection, APDataCollection acordDataCollection, IWorkItem workItem, APDOMDBManager domManager) throws APException{
		// do something custom before ACORD XML gets persisted. Please note that the work item on this instance and on the ACORD data collection at this point is the work item
		// of the work item from which we copied.
		super.persistACORDDataCollection(connection, acordDataCollection, workItem, domManager);
    }
}</p></pre></li>
            <li value="2">Update application properties to reflect custom action handler package name.
			<br /><pre class="prettyprint"><p>work_item.command_impl_package=com.agencyport.workitem.customactions</p></pre></li>
        </ol>
        <div class="buttons inline-buttons clearfix topicToolbarProxy" style="mc-topic-toolbar-items: ;">
            <div class="button-group-container-left">
                <button class="button needs-pie previous-topic-button" type="button" title="Navigate previous">
                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                </button>
                <div class="button current-topic-index-button disabled"><span class="sequence-index"></span> of <span class="sequence-total"></span></div>
                <button class="button needs-pie next-topic-button" type="button" title="Navigate next">
                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                </button>
            </div>
        </div>
    </body>
</html>