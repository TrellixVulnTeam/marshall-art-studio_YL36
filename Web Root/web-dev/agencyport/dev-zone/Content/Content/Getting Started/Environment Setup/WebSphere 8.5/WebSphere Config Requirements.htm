<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Getting Started|Environment Setup|WebSphere 8.5|Requirements">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>WebSphere Configuration Requirements</title>
        <link href="../../../../Resources/TableStyles/Note Table.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/NewStylesheet.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/left-arrow.png') no-repeat center center;
}

.button.current-topic-index-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.next-topic-button
{
	-pie-background: #f7f7f8 url('file://vmware-host/Shared Folders/Documents/My Projects/AgencyPortal 5.0/Output/Jami_Delia/Online Output/Website Output/Skins/Default/Stylesheets/Images/right-arrow.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE.htc');
}

</style>
        <script src="../../../Resources/prettify/run_prettify.js">
        </script>
        <script src="../../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../../Default.htm#Content/Getting Started/Environment Setup/WebSphere 8.5/WebSphere Config Requirements.htm">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../../Getting Started.htm">Getting Started</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Environment Setup.htm">Environment Setup</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="WebSphere 8_5.htm">WebSphere 8.5</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">WebSphere Configuration Requirements</span>
        </div>
        <h1>WebSphere Configuration Requirements</h1>
        <p>The following is an overview of the requirements needed for WebSphere configuration:</p>
        <ul>
            <li value="1">AgencyPortal 5.0 requires JDK 1.7. As such, you must ensure that the “IBM WebSphere SDK Java Technology Edition Version 7.x” has been made available to your WebSphere container (via the IBM Installation Manager).</li>
            <li value="2">AgencyPortal uses Apache Solr to provide enhanced search capabilities.
				<ul style="list-style-type: circle;"><li value="1">A SOLR_HOME directory that contains some configuration files and ultimately houses the search index will be provided to you alongside the product.</li><li value="2">The SOLR_HOME directory will need to be placed somewhere on the Web Container’s machine in a directory that will not be wiped out when a new version of a WAR/EAR file is deployed.</li><li value="3">The deployed AgencyPortal application must have write access into this directory.
					<br />For more detailed procedures, refer to the Solr Cloud section of the Solr User Guide.</li></ul></li>
            <li value="3">AgencyPortal’s Solr request servlet-filter won’t work correctly unless the container invokes its init function during application bootstrap. By default, WebSphere won’t do this; however, we can configure this by setting a <a href="http://www-01.ibm.com/support/docview.wss?uid=swg21284395">custom property</a> at the “Web Container” level:
				<ul style="list-style-type: circle;"><li value="1">Go to the custom properties menu in the WebSphere admin console (<i>via Servers &gt; Application Servers &gt; server_name &gt; Web Container settings &gt; Web Container &gt; custom properties</i>).</li><li value="2">Set the following property: <code>com.ibm.ws.webcontainer.invokeFilterInitAtStartup=true</code>.
						<br />Refer to <a href="Configuring the Server.htm">Configuring the Server</a> for more detailed information.
					</li></ul></li>
            <li value="4">Set the parent last classloading at the server level [<i>via Servers &gt; Application Servers &gt; <b>server_name</b> &gt; Class loading mode &gt; Classes loaded with local class loader first (parent last)</i>].</li>
            <li value="5">Set the following system properties to get the expected behavior (<i>via Servers &gt; Application Servers &gt; <b>server_name</b> &gt; Java and Process Management &gt; Process definition &gt; Java Virtual Machine &gt; Generic JVM arguments</i>):
				<ul style="list-style-type: circle;"><li value="1">-Djava.util.logging.configureByLoggingPropertiesFile=true – this is necessary on WebSphere for the AgencyPortal Logging framework to perform as expected.</li><li value="2">-Dagencyport.env=<b>some_string</b> – (optional) this can be used so the application load environment has specific resources (i.e., specific to this container only). The most common use case for this feature is to provide an environment specific properties file.
						<table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/Note Table.css');" class="TableStyle-Note_Table" cellspacing="0"><col class="TableStyle-Note_Table-Column-Column1" /><tbody><tr class="TableStyle-Note_Table-Body-Body1"><td class="TableStyle-Note_Table-BodyA-Column1-Body1"><p class="noteheader">NOTE:</p><p class="note">You can configure the system property name to use 'agencyport.env,' by default, in web.xml.</p></td></tr></tbody></table></li><li value="3">-Dsolr.solr.home=<b>path_to_solr_home</b> – (optional) this is one of a few different ways to tell the application where to find the SOLR_HOME directory.</li></ul></li>
            <li value="6">Set up a JNDI Datasource that points to a database containing the AgencyPortal tables:
				<ul style="list-style-type: circle;"><li value="1">This is a standard JNDI setting for most database vendors except for DB2, which requires you to change the resultSetHoldability property to DB2’s default of “1” – HOLD_CURSORS_AT_COMMIT (Webshere’s default is “2” – CLOSE_CURSORS_AT_COMMIT). Refer to <a href="Configuring JNDI.htm">Configuring JNDI</a> for more detailed information.</li><li value="2">You can make the property change via <i>Resources &gt; JDBC &gt; Data Sources &gt; db2_datasource_name &gt; Custom Properties &gt; resultSetHoldability</i>.
						<table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/Note Table.css');" class="TableStyle-Note_Table" cellspacing="0"><col class="TableStyle-Note_Table-Column-Column1" /><tbody><tr class="TableStyle-Note_Table-Body-Body1"><td class="TableStyle-Note_Table-BodyA-Column1-Body1"><p class="noteheader">NOTE:</p><p class="note">If this is an XA datasource, define a new custom property on the data source (where property_name= 'downgradeHoldCursorsUnderXa' and boolean value = true).</p></td></tr></tbody></table><br />Refer to the <a href="DB2 Issue.htm">DB2 Issue</a> section of the Appendix for more detailed information.</li></ul></li>
            <li value="7">During the AgencyPortal archive deployment process, bind the application to the aforementioned JNDI datasource.</li>
            <li value="8">Before starting the application, configure the classloader settings at the application and module level:
				<ul style="list-style-type: circle;"><li value="1">	Via <i>WebSphere enterprise applications &gt; application_name &gt; Class loading and update detection &gt; Classes loaded with local class loader first (parent last)</i>.</li><li value="2">	Via <i>WebSphere enterprise applications &gt; application_name &gt; Manage Modules &gt; module_name &gt; Class loader order &gt; Classes loaded with local class loader first (parent last)</i>. Refer to the <a href="Class Loader Settings.htm">Class Loader Settings</a> section for more detailed information.
					</li></ul></li>
        </ul>
        <div class="buttons inline-buttons clearfix topicToolbarProxy" style="mc-topic-toolbar-items: ;">
            <div class="button-group-container-left">
                <button class="button needs-pie previous-topic-button" type="button" title="Navigate previous">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                </button>
                <div class="button current-topic-index-button disabled"><span class="sequence-index"></span> of <span class="sequence-total"></span></div>
                <button class="button needs-pie next-topic-button" type="button" title="Navigate next">
                    <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                </button>
            </div>
        </div>
    </body>
</html>